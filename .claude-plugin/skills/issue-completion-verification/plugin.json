{
  "name": "issue-completion-verification",
  "version": "1.0.0",
  "category": "workflow",
  "description": "Verify and properly close GitHub issues when PR automation fails to auto-close",
  "tags": ["github", "workflow", "automation", "issue-tracking", "pr-management"],
  "created": "2026-02-15",
  "author": "Claude Sonnet 4.5",
  "source_issue": "#594",
  "source_pr": "#680",
  "outcome": "success",
  "related_skills": [
    "commit-commands:commit-push-pr",
    "commit-commands:clean_gone",
    "github-issue-workflow"
  ],
  "trigger_phrases": [
    "verify issue completion",
    "check if work is already done",
    "issue still open after PR merge",
    "manually close GitHub issue",
    "GitHub auto-close failed"
  ],
  "key_learnings": [
    "GitHub's auto-close automation can fail even with correct 'Closes #XXX' syntax",
    "Always check git history and merged PRs before starting work on an issue",
    "Use closingIssuesReferences field to verify GitHub detected the link",
    "Manual closure requires summary comment documenting completed work",
    "Worktree branches can track origin/main instead of their own remote branch"
  ],
  "commands": {
    "verify_issue_completion": "gh issue view <number> --json state,closedAt && gh pr list --search '<number>' --state all",
    "check_commits": "git log origin/main --grep='<number>' -5",
    "manual_close": "gh issue close <number> --comment '<summary>'"
  },
  "success_rate": "100%",
  "confidence": "high"
}
