{
  "id": "split-figures-per-tier",
  "version": "1.0.0",
  "name": "Split Figures Per Tier (Altair Row Limit)",
  "description": "Pattern for splitting large faceted figures into per-tier subfigures to avoid Altair's 5,000-row dataset limit. Handles multi-facet cases and test pattern updates.",
  "category": "tooling",
  "created": "2026-02-08",
  "author": "ProjectScylla",
  "tags": [
    "altair",
    "vega-lite",
    "visualization",
    "row-limit",
    "figure-generation",
    "per-tier-patterns",
    "data-filtering"
  ],
  "use_cases": [
    "Fix figure generation failures due to Altair's 5K row limit",
    "Split faceted visualizations into per-category subfigures",
    "Handle large judge datasets (7K+ rows) by tier filtering",
    "Convert aggregate figures to detailed per-tier breakdowns",
    "Update test expectations for per-tier file patterns"
  ],
  "success_metrics": {
    "figure_generation_rate": "100% (30/30 succeeded)",
    "test_pass_rate": "100% (49/49 passed)",
    "files_generated": "21 per-tier files (3 figures × 7 tiers)",
    "row_reduction": "7,236 → <1,100 per tier (85% reduction)"
  },
  "requirements": {
    "altair": "5.x (Vega-Lite with 5K row limit)",
    "pandas": "For DataFrame filtering",
    "pytest": "For test verification"
  },
  "related_skills": [
    "fix-altair-facet-layering",
    "altair-dynamic-domains",
    "figure-refactoring-patterns"
  ],
  "session_id": "0828ef21-0e83-41ed-be89-e3d75499e2d0",
  "figures_fixed": [
    "fig02_judge_variance",
    "fig14_judge_agreement",
    "fig17_judge_variance_overall"
  ],
  "outcome": "SUCCESS - All 3 judge figures split into per-tier views, 30/30 figures generate, all tests pass"
}
