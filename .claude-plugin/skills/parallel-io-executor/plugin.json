{
  "name": "parallel-io-executor",
  "version": "1.0.0",
  "category": "optimization",
  "description": "Pattern for implementing ThreadPoolExecutor-based parallelization of I/O-bound tasks in Python CLI tools",
  "tags": [
    "parallelization",
    "ThreadPoolExecutor",
    "I/O-bound",
    "CLI",
    "performance",
    "optimization",
    "concurrency"
  ],
  "author": "ProjectScylla",
  "created": "2026-01-30",
  "context": {
    "objective": "Convert sequential I/O-bound loop to parallel execution with user-controllable concurrency",
    "use_case": "Parallelizing judge slot reruns (subprocess-based LLM judge execution)",
    "outcome": "Successfully implemented thread-based parallelization with --parallel N CLI flag",
    "performance": "N×speedup for I/O-bound operations (6× with --parallel 6)"
  },
  "applicability": {
    "when_to_use": [
      "I/O-bound operations (subprocesses, network, disk)",
      "Independent work units with minimal shared state",
      "Converting sequential loops to parallel execution",
      "CLI tools with user-controllable parallelism"
    ],
    "when_not_to_use": [
      "CPU-bound operations (use ProcessPoolExecutor instead)",
      "Complex shared state or ordering dependencies",
      "Tasks that cannot handle concurrent execution"
    ]
  },
  "key_patterns": {
    "architecture": "ThreadPoolExecutor over ProcessPoolExecutor for I/O-bound subprocess operations",
    "safety": "Safe wrapper function catches exceptions to prevent pool poisoning",
    "thread_safety": "threading.Lock protects shared stats counters and result sets",
    "optimization": "Sequential fast path skips pool overhead when parallel <= 1",
    "progress": "Real-time progress logging with [completed/total] and elapsed time"
  },
  "precedents": [
    "runner.py:328 - Tier-level ThreadPoolExecutor parallelism",
    "subtest_executor.py:2043-2131 - Safe wrapper exception handling pattern"
  ],
  "files": {
    "skill": "SKILL.md",
    "notes": "references/notes.md"
  }
}
