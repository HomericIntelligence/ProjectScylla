# Analysis Configuration
# Central configuration for reproducible statistical analysis
# All parameters must match values used in analysis pipeline

# Statistical Parameters
statistical:
  # Significance threshold for hypothesis tests
  alpha: 0.05

  # Bootstrap resampling parameters
  bootstrap:
    n_resamples: 10000
    random_state: 42
    confidence_level: 0.95
    method: "BCa"  # Bias-Corrected and accelerated

  # Minimum sample sizes for statistical tests
  min_samples:
    # Minimum for bootstrap confidence intervals
    bootstrap_ci: 2

    # Minimum for Mann-Whitney U test
    mann_whitney: 2

    # Minimum for normality tests (Shapiro-Wilk)
    normality_test: 3

    # Minimum for correlation analysis
    correlation: 3

    # Minimum for Kruskal-Wallis omnibus test
    kruskal_wallis: 2

# Figure Generation Parameters
figures:
  # Publication-quality output settings
  dpi:
    png: 300  # 300 DPI for publication (scale_factor=3.0)

  # Default dimensions (pixels at 1x scale)
  default_width: 400
  default_height: 300

  # Font settings
  fonts:
    family: "serif"
    title_size: 14
    label_size: 12
    tick_size: 11

  # Output formats
  formats:
    - "vl.json"  # Vega-Lite spec (version control)
    - "csv"      # Figure data
    - "png"      # Raster (300 DPI)
    - "pdf"      # Vector
    - "tex"      # LaTeX snippet

# Table Generation Parameters
tables:
  # LaTeX formatting
  latex:
    booktabs: true
    longtable_threshold: 20  # Rows before using longtable

  # Precision for numeric output
  precision:
    p_values: 4        # 4 decimal places (e.g., 0.0001)
    effect_sizes: 3    # 3 decimal places (e.g., 0.123)
    percentages: 1     # 1 decimal place (e.g., 45.3%)
    costs: 2           # 2 decimal places (e.g., $12.34)
    rates: 3           # 3 decimal places (e.g., 0.923)

# Color Palettes
colors:
  # Model colors (diverging blue-red)
  models:
    "Sonnet 4.5": "#3498db"  # Blue
    "Haiku 4.5": "#e74c3c"   # Red
    "Opus 4.5": "#2ecc71"    # Green (reserved)

  # Tier colors (ColorBrewer Set2 - colorblind safe)
  tiers:
    T0: "#66c2a5"
    T1: "#fc8d62"
    T2: "#8da0cb"
    T3: "#e78ac3"
    T4: "#a6d854"
    T5: "#ffd92f"
    T6: "#e5c494"

  # Grade colors (traffic light + yellow)
  grades:
    A: "#2ecc71"  # Green
    B: "#3498db"  # Blue
    C: "#f39c12"  # Orange
    D: "#e67e22"  # Dark orange
    F: "#e74c3c"  # Red

# Data Loading Parameters
data:
  # Experiment exclusions (override with --exclude CLI flag)
  exclude_experiments: []

  # Default data directory (override with --data-dir CLI flag)
  default_data_dir: "~/fullruns"

  # Graceful degradation settings
  continue_on_error: true
  warn_on_missing_fields: true

# Reproducibility Metadata
reproducibility:
  # Analysis pipeline version
  pipeline_version: "1.0.0"

  # Expected pixi environment
  pixi_environment: "analysis"

  # Critical dependencies (from pixi.toml)
  dependencies:
    python: ">=3.10"
    pandas: ">=2.0.0"
    altair: ">=5.0.0"
    scipy: ">=1.10.0"
    numpy: ">=1.24.0"

  # Configuration file version
  config_version: "1.0.0"
